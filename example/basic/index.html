<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width initial-scale=1"/>
    <link rel='stylesheet' href='../../dist/marionette-tree-view.min.css'/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
    <style>
      .hide {
        display: none !important;
      }
    </style>
    <title>Basic</title>
    </head>
  <body>
    <div id="main-container"></div>

    <script src="../../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../../node_modules/underscore/underscore-min.js"></script>
    <script src="../../node_modules/backbone/backbone-min.js"></script>
    <script src="../../node_modules/backbone.marionette/lib/backbone.marionette.min.js"></script>
    <script src="../../dist/marionette-tree-view.js"></script>
    <script>
      var mockData = [{
          name: 'name1'
        }, {
          name: 'name2'
        }, {
          name: 'name3'
        }];

      var CustomNodeModel = Backbone.Model.extend({
        fetchChildren: function(options) {
          setTimeout(function() {
            options.success(mockData);
          }, 300);
        }
      });

      var CustomNodeCollection = Backbone.Collection.extend({
        model: CustomNodeModel
      });

      var CustomNodeView = Marionette.NodeView.extend({
        template: _.template('<a data-toggle="node" class="collapsed"><i class="fa fa-pie-chart"></i> <%=name%><div class="icon-group"><i class="fa fa-exclamation-triangle icon-error pull-right hide"></i><i class="fa fa-plus icon-expand pull-right"></i><i class="fa fa-minus icon-collapse hide pull-right"></i><i class="fa fa-spinner hide icon-loading fa-pulse"></i></div></a><div class="children"></div>')
      });

      var myCollection = new CustomNodeCollection(mockData);

      var myTreeView = new Marionette.TreeView({
        collection: myCollection,
        collectionType: CustomNodeCollection,
        childView: CustomNodeView
      });

      $('#main-container').html(myTreeView.render().el);
    </script>
  </body>
</html>